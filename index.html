<!DOCTYPE html>
<html lang="en">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@/css/mdb.min.css" integrity=""
    crossorigin="anonymous">
<link rel="stylesheet" href="main.css">



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate YAML File</title>
</head>

<body>

    <br><br>


    <div class="form-container">

        <h2>Metadata Generator</h2>
        This metadata format is based on the FOT-Net Data Sharing Framework (DSF).
        The DSF can be consulted if anything is unclear; each section in the format
        is directly or indirectly based on a section in the DSF
        <a target="_blank"
            href="https://www.connectedautomateddriving.eu/wp-content/uploads/2021/09/Data-Sharing-Framework-v1.1-final.pdf">
            document</a>.

        <br><br>

        <div class="form-group">
            <!-- Progress Bar -->
            <div class="progress-bar-container">
                <div class="progress-bar-item active" onclick="showPart(1)">Summary</div>
                <div class="progress-bar-item" onclick="showPart(2)">Administrative</div>
                <div class="progress-bar-item" onclick="showPart(3)">Structural</div>
                <div class="progress-bar-item" onclick="showPart(4)">Descriptive</div>
            </div>


            <div class="form" id="part1">
                <h3>Summary</h3>
                The summary should contain a thorough description of the study design and execution.
                The description must be complete and self-contained, but can contain links
                to images and further information (but keep in mind that the description
                must make sense even if those links should stop working.)
                <hr>
                <div>

                    <div class="question">
                        <label class="question-label" for="why_was_it_collected">
                            Why was it collected?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field"
                            id="why_was_it_collected"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="how_was_the_collection_executed">
                            How was the collection executed?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field"
                            id="how_was_the_collection_executed"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="objectives">
                            Objectives
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="objectives"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="research_questions">
                            Research Questions
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="research_questions"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="experimental_plan">
                            Experimental Plan
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="experimental_plan"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="sample_selection_criteria">
                            Sample Selection Criteria
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field"
                            id="sample_selection_criteria"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="contact_person_name">
                            Contact Person Name
                            <span class="question-mark"
                                title="A person that can be contacted for more information about this dataset.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="contact_person_name">
                    </div>

                    <div class="question">
                        <label class="question-label" for="contact_person_mail">
                            Contact Person Mail
                        </label><br>
                        <input class="text-input-field" type="text" id="contact_person_mail">
                    </div>

                    <div class="question">
                        <label class="question-label" for="producer_of_data">
                            Producer of Data
                            <span class="question-mark" title="Which entity produced this dataset.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="producer_of_data">
                    </div>

                    <div class="question">
                        <label class="question-label" for="data_area">
                            Data Area
                            <span class="question-mark"
                                title="Which are the data are from. Can be an exact coordinate, a polygon, a town name, a country name, etc. If providing coordinates/polygons, it must be encoded as WKT with an SRID of 4326.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="data_area">
                    </div>

                    <div class="question">
                        <fieldset>
                            <legend>
                                Data Type
                                <span class="question-mark" title="Which type of data this is.">
                                    &#x1F6C8;
                                </span>
                            </legend>
                            <div style="text-align: left;" class="text-input-field">
                                <label><input id="data_type_1" type="checkbox" name="data_type" value="survey">
                                    Survey</label><br>
                                <label><input id="data_type_2" type="checkbox" name="data_type" value="interviews">
                                    Interviews</label><br>
                                <label><input id="data_type_3" type="checkbox" name="data_type" value="mobile network"> Mobile
                                    Network</label><br>
                                <label><input id="data_type_4" type="checkbox" name="data_type" value="itsg5"> ITSG5</label><br>
                                <label><input id="data_type_5" type="checkbox" name="data_type" value="lane markings"> Lane
                                    Markings</label><br>
                                <label><input id="data_type_6" type="checkbox" name="data_type" value="signage">
                                    Signage</label><br>
                                <label><input id="data_type_7" type="checkbox" name="data_type" value="physical road infrastructure">
                                    Physical Road Infrastructure</label><br>
                                <label><input id="data_type_8" type="checkbox" name="data_type" value="speed/acceleration">
                                    Speed/Acceleration</label><br>
                                <label><input id="data_type_9" type="checkbox" name="data_type" value="video"> Video</label><br>
                                <label><input id="data_type_10" type="checkbox" name="data_type" value="pictures">
                                    Pictures</label><br>
                                <label><input id="data_type_11" type="checkbox" name="data_type" value="gnss"> GNSS</label><br>
                                <label><input id="data_type_12" type="checkbox" name="data_type" value="lidar"> LiDAR</label><br>
                                <label><input id="data_type_13" type="checkbox" name="data_type" value="radar"> Radar</label><br>
                                <label><input id="data_type_14" type="checkbox" name="data_type" value="weather">
                                    Weather</label><br>
                                <label><input id="data_type_15" type="checkbox" name="data_type" value="vehicle probe data">
                                    Vehicle Probe
                                    Data</label><br>
                                <label><input id="data_type_16" type="checkbox" name="data_type" value="events">
                                    Events</label><br>
                                <label><input id="data_type_17" type="checkbox" name="data_type" value="other"> Other</label><br>
                            </div>
                        </fieldset>
                    </div>

                    <div class="question">
                        <label class="question-label" for="modi_use_case">
                            MODI Use Case
                            <span class="question-mark"
                                title="Which of the use cases in MODI this dataset is related to.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <select class="text-input-field" id="modi_use_case">
                            <option value="" disabled selected>Select an option</option>
                            <option value="UCNL">UCNL</option>
                            <option value="UCGE">UCGE</option>
                            <option value="UCSE">UCSE</option>
                            <option value="UCNO">UCNO</option>
                            <option value="UCCCAM">UCCCAM</option>
                            <option value="Other tasks">Other tasks</option>
                        </select>
                    </div>

                    <div class="question">
                        <label class="question-label" for="dataset_size">
                            Dataset Size
                            <span class="question-mark"
                                title="An approximate description of the size of this dataset.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="dataset_size"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="dataset_example">
                            Dataset Example
                            <span class="question-mark"
                                title="A tiny sample of the dataset to show how it looks (if possible).">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="dataset_example"></textarea>
                    </div>



                    <br><br>
                </div>
                <center style="display: flex; justify-content: space-around">
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(2)"> Next
                    </button>
                </center>
            </div>

            <div class="form" id="part2" style="display: none;">
                <h3>Addministrative</h3>
                Administrative metadata are collected for the effective operation and management of data
                storage and catalogues. This administrative information, covering various topics, is stored
                along with the datasets. From a FOT data re-use perspective, the key role of administrative
                metadata is to cover access conditions, rights, ownership and constraints.
                <hr>
                <div>

                    <div class="question">
                        <label class="question-label" for="version_number">
                            Version number
                            <span class="question-mark"
                                title="The version number of this dataset, used to keep track of different versions if it is uploaded multiple times. The version number can be numeric, date-based, or anything else, but it must be easy to see which version is newer without further knowledge.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="version_number">
                    </div>

                    <div class="question">
                        <label class="question-label" for="archiving_date">
                            Archiving date
                            <span class="question-mark" title="The date this dataset was uploaded.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="date" id="archiving_date">
                    </div>

                    <div class="question">
                        <label class="question-label" for="unique_dataset_id">
                            Unique dataset id
                            <span class="question-mark"
                                title="A unique identifier for this dataset. This will be used to identify this and future updates in the metadata database, and must never be changed after the dataset has been uploaded for the first time.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="unique_dataset_id">
                    </div>

                    <div class="question">
                        <label class="question-label" for="rights">
                            Who has rights to use this dataset?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="rights"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="license">
                            Does the dataset have a specific license for usage?
                        </label><br>
                        <input class="text-input-field" type="text" id="license">
                    </div>

                    <div class="question">
                        <label class="question-label" for="access">
                            Who can access the dataset?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="access"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="constraints">
                            Any constraints in usage of the dataset?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="constraints"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="billing">
                            Can the dataset be used for free, or does usage incur any costs/billing for the user?
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="billing"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="data_end_of_life">
                            When the data set will stop existing?
                            <span class="question-mark" title="For example due to privacy regulations.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="date" id="data_end_of_life">
                    </div>

                    <div class="question" id="process">
                        <p style="margin-bottom: 12px;">
                        <h5>Process</h5>
                        A more detailed description of the various processes of the data collection,
                        for example the methods/tools used to collect the data, filtering, post-processing,
                        storage file structure, etc. <br>
                        This should include information about relevant conditions during the data collection
                        (for example weather, climate, time of day, etc). <br>
                        Add as many fields as desired, add a key and an detailed description of the process.
                        Keep in mind that each key should be unique, contain no spaces and be lowercase.
                        </p>
                        <div class="question" id="administrative_question_1">
                            <button class="base-style standard-style big-style deleteButton" onclick="deleteParent()"
                                id="delete_button" style="display: none">X</button>
                            <input class="text-input-field" type="text" placeholder="Key"
                                onfocus="this.placeholder = ''" onblur="this.placeholder = 'Key'"
                                style="margin-bottom: 12px;" id="administrative_key_1"><br>
                            <textarea oninput="autoGrow(this)" class="text-input-field"
                                placeholder="Detailed description" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'Detailed description'"
                                id="administrative_description_1"></textarea>
                        </div>
                        <center id="add_question_button">
                            <button class="base-style standard-style big-style " onclick="addQuestion(this.id)"
                                id="administrative_button_1">Add process</button>
                        </center>
                    </div>



                </div>


                <br><br>
                <center style="display: flex; justify-content: space-around">
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(1)"> Previous
                    </button>
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(3)"> Next
                    </button>
                </center>
            </div>

            <div class="form" id="part3" style="display: none;">
                <h3>Structural</h3>
                Structural metadata are used to describe how the data are structured in relation to other
                data. Data are organized into a system (e.g., a database and/or file system), a structure or
                database schema and a data content format. The aim of structural metadata is to facilitate
                the initial phase of data re-use by providing the necessary documentation about how the data
                is organized. The description should include the file system, the file structure and how to
                interpret the contents of a data container. All components of the dataset need to be
                described.
                <hr>
                <div>

                    <div class="question">
                        <label class="question-label" for="summary">
                            Summary
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="summary"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="file_format">
                            File format
                            <span class="question-mark"
                                title="File format. Please include attributes such as delimiter for CSV, decimal separator, thousand separator (if any), and any other properties that is relevant for parsing the data.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="file_format"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="file_structure">
                            File structure
                            <span class="question-mark"
                                title="Please describe the storage structure of the data. If it consists of flat files, the folder structure and file naming can be relevant. If it is a database, a description of the relevant tables, indices, triggers and views is important.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="file_structure"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="required_tools">
                            Required tools
                            <span class="question-mark"
                                title="Which tools can be used to read the data. Especially important for non-standard formats.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" id="required_tools"></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label" for="tool_version">
                            Tool version
                            <span class="question-mark"
                                title="If the files were made using a specific tool, the tool name and version may be relevant for reading the data.">
                                &#x1F6C8;
                            </span>
                        </label><br>
                        <input class="text-input-field" type="text" id="tool_version">
                    </div>

                    <div class="question" id="add_keys_structural">
                        <p style="margin-bottom: 12px;">
                            Additional keys and values can be added here if this is a non-standard format that requires
                            a more detailed explanation.<br>
                            Keep in mind that each key should be unique, contain no spaces and be lowercase.
                        </p>
                        <div class="question" id="structural_question_1">
                            <button class="base-style standard-style big-style deleteButton" onclick="deleteParent()"
                                id="delete_button" style="display: none">X</button>
                            <input class="text-input-field" type="text" placeholder="Key"
                                onfocus="this.placeholder = ''" onblur="this.placeholder = 'Key'"
                                style="margin-bottom: 12px;" id="structural_key_1"><br>
                            <textarea oninput="autoGrow(this)" class="text-input-field"
                                placeholder="Detailed description" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'Detailed description'"
                                id="structural_description_1"></textarea>
                        </div>
                        <center id="add_question_button">
                            <button class="base-style standard-style big-style " onclick="addQuestion(this.id)" 
                            id="structural_button_1">Add
                                pair</button>
                        </center>
                    </div>




                </div>


                <br><br>
                <center style="display: flex; justify-content: space-around">
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(2)"> Previous
                    </button>
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(4)"> Next
                    </button>
                </center>
            </div>

            <div class="form" id="part4" style="display: none;">
                <h3>Descriptive</h3>
                Descriptive metadata shall include detailed information needed to understand each part of a
                dataset. The purpose is to describe the dataset and build trust in it, by providing not only the
                characteristics of each measure or component, but also information about how the data were
                generated and collected.<br>
                The descriptions can vary by data type.<br>
                For each data field in your dataset, please fill out all relevant parameters from section
                5.3.1 of the DSF, and enter the attributes using the "Data description item" in lower-case
                as the key. The following list lists the most relevant attributes from the tables, see
                tables 3 to 9 in the DSF for full explanations.<br>
                <ul>
                    <li>description</li>
                    <li>data_precision</li>
                    <li>unit</li>
                    <li>sample_rate</li>
                    <li>filter</li>
                    <li>origin</li>
                    <li>bias</li>
                    <li>type</li>
                    <li>definition</li>
                    <li>range</li>
                    <li>error_codes</li>
                    <li>quality</li>
                    <li>offset</li>
                    <li>enumeration_specification</li>
                    <li>availability</li>
                    <li>srid (for coordinates)</li>
                    <li>time_zone (for time stamps)</li>
                    <li>time_format (for time stamps)</li>
                </ul>
                Please note the following additions to the DSF:
                <ul>
                    <li>When dealing with coordinates, the SRID must be specified with the srid key.</li>
                    <li>When dealing with times, the time zone must be specified with the timezone key.</li>
                    <li>When dealing with dates or times, the format must be specified with the format key.</li>
                </ul>
                <hr>

                <div style="display: none;" class="question" id="field_dummy">
                    <button class="base-style standard-style big-style deleteButton" onclick="deleteParent()"
                    id="delete_button">X</button>
                    
                    <input class="text-input-field" type="text" placeholder="Field" onfocus="this.placeholder = ''"
                        onblur="this.placeholder = 'Field'" style="margin-bottom: 12px;" id="field_key_dummy"><br>
                    <textarea oninput="autoGrow(this)" class="text-input-field" placeholder="Description"
                        onfocus="this.placeholder = ''" onblur="this.placeholder = 'Description'"
                        id="field_description_dummy"></textarea>

                    <div class="question" id="field_dummy_atribute_dummy">
                        <button class="base-style standard-style big-style deleteButton" onclick="deleteParent()"
                            id="delete_button" style="display: none">X</button>
                        <select class="text-input-field" id="field_dummy_key_dummy" style="margin-bottom: 12px;">
                            <option value="" disabled selected>Select an atribute</option>
                            <option value="data_precision">Data precision</option>
                            <option value="unit">Unit</option>
                            <option value="sample_rate">Sample rate</option>
                            <option value="filter">Filter</option>
                            <option value="origin">Origin</option>
                            <option value="Type">Type</option>
                            <option value="range">Range</option>
                            <option value="error_codes">Error codes </option>
                            <option value="quality">Quality</option>
                            <option value="offset">Offset</option>
                            <option value="Enumeration_specification">Enumeration specification</option>
                            <option value="availability">Availability</option>
                            <option value="definition">Definition</option>
                            <option value="attribute_pi_or_summary_specification">Attribute, PI or summary specification</option>
                            <option value="purpose">Purpose</option>
                            <option value="variability">Variability</option>
                            <option value="bias">Bias</option>
                            <option value="instructions">Instructions</option>
                            <option value="options">Options</option>

                        </select>
                        <br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" placeholder="Atribute information"
                            onfocus="this.placeholder = ''" onblur="this.placeholder = 'Atribute information'"
                            id="field_dummy_information_dummy"></textarea>
                    </div>

                    <center id="add_atribute_button">
                        <button class="base-style standard-style big-style " onclick="addAtribute(this.id)"
                            id="field_dummy_button_dummy">Add atribute</button>
                    </center>
                </div>

                <div id="descriptive">
                    <div class="question" id="field_1">
                        <input class="text-input-field" type="text" placeholder="Field" onfocus="this.placeholder = ''"
                            onblur="this.placeholder = 'Field'" style="margin-bottom: 12px;" id="field_key_1"><br>
                        <textarea oninput="autoGrow(this)" class="text-input-field" placeholder="Description"
                            onfocus="this.placeholder = ''" onblur="this.placeholder = 'Description'"
                            id="field_description_1"></textarea>
                        <div class="question" id="field_1_atribute_1">
                            <button class="base-style standard-style big-style deleteButton" onclick="deleteParent()"
                                id="delete_button" style="display: none">X</button>
                                <select class="text-input-field" id="field_1_key_1" style="margin-bottom: 12px;">
                                    <option value="" disabled selected>Select an atribute</option>
                                    <option value="data_precision">Data precision</option>
                                    <option value="unit">Unit</option>
                                    <option value="sample_rate">Sample rate</option>
                                    <option value="filter">Filter</option>
                                    <option value="origin">Origin</option>
                                    <option value="Type">Type</option>
                                    <option value="range">Range</option>
                                    <option value="error_codes">Error codes </option>
                                    <option value="quality">Quality</option>
                                    <option value="offset">Offset</option>
                                    <option value="Enumeration_specification">Enumeration specification</option>
                                    <option value="availability">Availability</option>
                                    <option value="definition">Definition</option>
                                    <option value="attribute_pi_or_summary_specification">Attribute, PI or summary specification</option>
                                    <option value="purpose">Purpose</option>
                                    <option value="variability">Variability</option>
                                    <option value="bias">Bias</option>
                                    <option value="instructions">Instructions</option>
                                    <option value="options">Options</option>
        
                                </select>
                                <br style="margin-bottom: 12px;">
                            <textarea oninput="autoGrow(this)" class="text-input-field"
                                placeholder="Atribute information" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'Atribute information'"
                                id="field_1_information_1"></textarea>
                        </div>
                        <center id="add_atribute_button">
                            <button class="base-style standard-style big-style " onclick="addAtribute(this.id)"
                                id="field_1_button_1">Add atribute</button>
                        </center>
                    </div>
                    <center id="add_field_button">
                        <button class="base-style standard-style big-style " onclick="addField(this.id)"
                            id="button_1">Add field</button>
                    </center>
                </div>

                <br><br>
                <center style="display: flex; justify-content: space-around">
                    <button class="base-style standard-style big-style " type="button" onclick="showPart(3)"> Previous
                    </button>
                    <button class="base-style standard-style big-style " type="button"
                        onclick="downloadYAMLFile()">Download YAML File</button>
                </center>

            </div>

        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/js-yaml/dist/js-yaml.min.js"></script>
    <script src="scripts/form.js"></script>
    <script src="scripts/generate.js"></script>

</body>

</html>